import{d as G,r as E,e as D,w as te,l as K,g as $e,k as Be,p as Ye,V as A,W as B,X as c,Y as W,Z as I,F as ee,_ as ae,$ as y,a0 as R,a1 as U,c as Q,A as Pe,G as Ve,a2 as me,S as Ge,a3 as Ce,a4 as _e,m as ke,v as Me,a5 as T,a6 as X}from"./@vue.c35ed996.js";import{C as f}from"./vue-types.b3d8d5bc.js";import{t as H}from"./tinycolor2.bbf7e834.js";import{t as L,w as z,u as ne,o as De,a as ie}from"./@vueuse.220a90ea.js";import{V as j}from"./@aesoper.438b8cd9.js";import{A as Ze}from"./vue3-angle.95911554.js";import{s as Fe,p as Oe}from"./gradient-parser.91181912.js";import{m as oe}from"./lodash-es.2ec95d04.js";import{c as Qe}from"./@popperjs.2eb658a9.js";var je=Object.defineProperty,Te=(e,o,t)=>o in e?je(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,J=(e,o,t)=>(Te(e,typeof o!="symbol"?o+"":o,t),t);const V=e=>Math.round(e*100)/100;class S{constructor(o){J(this,"instance"),J(this,"alphaValue",0),J(this,"redValue",0),J(this,"greenValue",0),J(this,"blueValue",0),J(this,"hueValue",0),J(this,"saturationValue",0),J(this,"brightnessValue",0),J(this,"hslSaturationValue",0),J(this,"lightnessValue",0),J(this,"initAlpha",()=>{const t=this.instance.getAlpha();this.alphaValue=Math.min(1,t)*100}),J(this,"initLightness",()=>{const{s:t,l:r}=this.instance.toHsl();this.hslSaturationValue=V(t),this.lightnessValue=V(r)}),J(this,"initRgb",()=>{const{r:t,g:r,b:s}=this.instance.toRgb();this.redValue=V(t),this.greenValue=V(r),this.blueValue=V(s)}),J(this,"initHsb",()=>{const{h:t,s:r,v:s}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil(t)),this.saturationValue=V(r),this.brightnessValue=V(s)}),J(this,"toHexString",()=>this.instance.toHexString()),J(this,"toRgbString",()=>this.instance.toRgbString()),this.instance=H(o),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(o){return this.instance.toString(o)}get hex(){return this.instance.toHex()}set hex(o){this.instance=H(o),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(o){this.saturation===0&&this.brightness===0&&(this.saturationValue=1,this.brightnessValue=1),this.instance=H({h:V(o),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=V(o)}get hue(){return this.hueValue}set saturation(o){this.instance=H({h:this.hue,s:V(o),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=V(o)}get saturation(){return this.saturationValue}set brightness(o){this.instance=H({h:this.hue,s:this.saturation,v:V(o),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=V(o)}get brightness(){return this.brightnessValue}set lightness(o){this.instance=H({h:this.hue,s:this.hslSaturationValue,l:V(o),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=V(o)}get lightness(){return this.lightnessValue}set red(o){const t=this.instance.toRgb();this.instance=H({...t,r:V(o),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.redValue=V(o)}get red(){return this.redValue}set green(o){const t=this.instance.toRgb();this.instance=H({...t,g:V(o),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.greenValue=V(o)}get green(){return this.greenValue}set blue(o){const t=this.instance.toRgb();this.instance=H({...t,b:V(o),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.blueValue=V(o)}get blue(){return this.blueValue}set alpha(o){this.instance.setAlpha(o/100),this.alphaValue=o}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,this.alpha/100]}get HSB(){return[this.hue,this.saturation,this.brightness,this.alpha/100]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,this.alpha/100]}}function xe(e,o,t,r){return`rgba(${[e,o,t,r/100].join(",")})`}const re=(e,o,t)=>o<t?e<o?o:e>t?t:e:e<t?t:e>o?o:e,le="color-history",se=8;var M=(e,o)=>{const t=e.__vccOpts||e;for(const[r,s]of o)t[r]=s;return t};const Xe=G({name:"Alpha",props:{color:f.instanceOf(S),size:f.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:o}){const t=E(null),r=E(null);let s=e.color||new S;const i=D({red:s.red,green:s.green,blue:s.blue,alpha:s.alpha});te(()=>e.color,l=>{l&&(s=l,oe(i,{red:l.red,green:l.green,blue:l.blue,alpha:l.alpha}))},{deep:!0});const n=K(()=>{const l=xe(i.red,i.green,i.blue,0),u=xe(i.red,i.green,i.blue,100);return{background:`linear-gradient(to right, ${l} , ${u})`}}),a=()=>{if(t.value&&r.value){const l=i.alpha/100,u=t.value.getBoundingClientRect(),_=r.value.offsetWidth;return Math.round(l*(u.width-_)+_/2)}return 0},p=K(()=>({left:a()+"px",top:0})),C=l=>{l.target!==t.value&&g(l)},g=l=>{if(l.stopPropagation(),t.value&&r.value){const u=t.value.getBoundingClientRect(),_=r.value.offsetWidth;let b=l.clientX-u.left;b=Math.max(_/2,b),b=Math.min(b,u.width-_/2);const h=Math.round((b-_/2)/(u.width-_)*100);s.alpha=h,i.alpha=h,o("change",h)}};return L(()=>{const l={drag:u=>{g(u)},end:u=>{g(u)}};t.value&&r.value&&j.triggerDragEvent(t.value,l)}),{barElement:t,cursorElement:r,getCursorStyle:p,getBackgroundStyle:n,onClickSider:C}}}),Le=e=>(T("data-v-18925ba6"),e=e(),X(),e),qe=Le(()=>c("div",{class:"vc-alpha-slider__bar-handle"},null,-1)),et=[qe];function tt(e,o,t,r,s,i){return A(),B("div",{class:W(["vc-alpha-slider","transparent",{"small-slider":e.size==="small"}])},[c("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:I(e.getBackgroundStyle),onClick:o[0]||(o[0]=(...n)=>e.onClickSider&&e.onClickSider(...n))},[c("div",{class:W(["vc-alpha-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:I(e.getCursorStyle)},et,6)],4)],2)}var ce=M(Xe,[["render",tt],["__scopeId","data-v-18925ba6"]]);const ot=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],rt=G({name:"Palette",emits:["change"],setup(e,{emit:o}){return{palettes:ot,computedBgStyle:s=>s==="transparent"?s:s==="advance"?{}:{background:H(s).toRgbString()},onColorChange:s=>{o("change",s)}}}}),at={class:"vc-compact"},nt=["onClick"];function it(e,o,t,r,s,i){return A(),B("div",at,[(A(!0),B(ee,null,ae(e.palettes,(n,a)=>(A(),B("div",{key:a,class:"vc-compact__row"},[(A(!0),B(ee,null,ae(n,(p,C)=>(A(),B("div",{key:C,class:"vc-compact__color-cube--wrap",onClick:g=>e.onColorChange(p)},[c("div",{class:W(["vc-compact__color_cube",{advance:p==="advance",transparent:p==="transparent"}]),style:I(e.computedBgStyle(p))},null,6)],8,nt))),128))]))),128))])}var He=M(rt,[["render",it],["__scopeId","data-v-b969fd48"]]);const lt=G({name:"Board",props:{color:f.instanceOf(S),round:f.bool.def(!1),hide:f.bool.def(!0)},emits:["change"],setup(e,{emit:o}){var t,r,s;const i=$e(),n={h:((t=e.color)==null?void 0:t.hue)||0,s:1,v:1},a=new S(n).toHexString(),p=D({hueColor:a,saturation:((r=e.color)==null?void 0:r.saturation)||0,brightness:((s=e.color)==null?void 0:s.brightness)||0}),C=E(0),g=E(0),l=E(),u=E(),_=K(()=>({top:C.value+"px",left:g.value+"px"})),b=()=>{if(i){const m=i.vnode.el;g.value=p.saturation*(m==null?void 0:m.clientWidth),C.value=(1-p.brightness)*(m==null?void 0:m.clientHeight)}},h=m=>{m.target!==u.value&&k(m)},k=m=>{if(i){const N=i.vnode.el,Z=N==null?void 0:N.getBoundingClientRect();let F=m.clientX-Z.left,$=m.clientY-Z.top;F=re(F,0,Z.width),$=re($,0,Z.height);const O=F/Z.width,Y=re(-($/Z.height)+1,0,1);g.value=F,C.value=$,p.saturation=O,p.brightness=Y,o("change",O,Y)}};return L(()=>{i&&i.vnode.el&&l.value&&(j.triggerDragEvent(l.value,{drag:m=>{k(m)},end:m=>{k(m)}}),b())}),z(()=>e.color,m=>{oe(p,{hueColor:new S({h:m.hue,s:1,v:1}).toHexString(),saturation:m.saturation,brightness:m.brightness}),b()},{deep:!0}),{state:p,cursorElement:l,getCursorStyle:_,onClickBoard:h}}}),de=e=>(T("data-v-63803390"),e=e(),X(),e),st=de(()=>c("div",{class:"vc-saturation__white"},null,-1)),ct=de(()=>c("div",{class:"vc-saturation__black"},null,-1)),dt=de(()=>c("div",null,null,-1)),pt=[dt];function gt(e,o,t,r,s,i){return A(),B("div",{ref:"boardElement",class:W(["vc-saturation",{"vc-saturation__chrome":e.round,"vc-saturation__hidden":e.hide}]),style:I({backgroundColor:e.state.hueColor}),onClick:o[0]||(o[0]=(...n)=>e.onClickBoard&&e.onClickBoard(...n))},[st,ct,c("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:I(e.getCursorStyle)},pt,4)],6)}var pe=M(lt,[["render",gt],["__scopeId","data-v-63803390"]]);const ht=G({name:"Hue",props:{color:f.instanceOf(S),size:f.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:o}){const t=E(null),r=E(null);let s=e.color||new S;const i=D({hue:s.hue||0});te(()=>e.color,g=>{g&&(s=g,oe(i,{hue:s.hue}))},{deep:!0});const n=()=>{if(t.value&&r.value){const g=t.value.getBoundingClientRect(),l=r.value.offsetWidth;return i.hue===360?g.width-l/2:i.hue%360*(g.width-l)/360+l/2}return 0},a=K(()=>({left:n()+"px",top:0})),p=g=>{g.target!==t.value&&C(g)},C=g=>{if(g.stopPropagation(),t.value&&r.value){const l=t.value.getBoundingClientRect(),u=r.value.offsetWidth;let _=g.clientX-l.left;_=Math.min(_,l.width-u/2),_=Math.max(u/2,_);const b=Math.round((_-u/2)/(l.width-u)*360);s.hue=b,i.hue=b,o("change",b)}};return L(()=>{const g={drag:l=>{C(l)},end:l=>{C(l)}};t.value&&r.value&&j.triggerDragEvent(t.value,g)}),{barElement:t,cursorElement:r,getCursorStyle:a,onClickSider:p}}}),ut=e=>(T("data-v-5c4cae5b"),e=e(),X(),e),bt=ut(()=>c("div",{class:"vc-hue-slider__bar-handle"},null,-1)),vt=[bt];function ft(e,o,t,r,s,i){return A(),B("div",{class:W(["vc-hue-slider",{"small-slider":e.size==="small"}])},[c("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:o[0]||(o[0]=(...n)=>e.onClickSider&&e.onClickSider(...n))},[c("div",{class:W(["vc-hue-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:I(e.getCursorStyle)},vt,6)],512)],2)}var ge=M(ht,[["render",ft],["__scopeId","data-v-5c4cae5b"]]);const At=G({name:"Lightness",props:{color:f.instanceOf(S),size:f.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:o}){const t=E(null),r=E(null);let s=e.color||new S;const[i,n,a]=s.HSL,p=D({hue:i,saturation:n,lightness:a});te(()=>e.color,b=>{if(b){s=b;const[h,k,m]=s.HSL;oe(p,{hue:h,saturation:k,lightness:m})}},{deep:!0});const C=K(()=>{const b=H({h:p.hue,s:p.saturation,l:.8}).toPercentageRgbString(),h=H({h:p.hue,s:p.saturation,l:.6}).toPercentageRgbString(),k=H({h:p.hue,s:p.saturation,l:.4}).toPercentageRgbString(),m=H({h:p.hue,s:p.saturation,l:.2}).toPercentageRgbString();return{background:[`-webkit-linear-gradient(left, rgb(255, 255, 255), ${b}, ${h}, ${k}, ${m}, rgb(0, 0, 0))`,`-moz-linear-gradient(left, rgb(255, 255, 255), ${b}, ${h}, ${k}, ${m}, rgb(0, 0, 0))`,`-ms-linear-gradient(left, rgb(255, 255, 255), ${b}, ${h}, ${k}, ${m}, rgb(0, 0, 0))`]}}),g=()=>{if(t.value&&r.value){const b=p.lightness,h=t.value.getBoundingClientRect(),k=r.value.offsetWidth;return(1-b)*(h.width-k)+k/2}return 0},l=K(()=>({left:g()+"px",top:0})),u=b=>{b.target!==t.value&&_(b)},_=b=>{if(b.stopPropagation(),t.value&&r.value){const h=t.value.getBoundingClientRect(),k=r.value.offsetWidth;let m=b.clientX-h.left;m=Math.max(k/2,m),m=Math.min(m,h.width-k/2);const N=1-(m-k/2)/(h.width-k);s.lightness=N,o("change",N)}};return L(()=>{const b={drag:h=>{_(h)},end:h=>{_(h)}};t.value&&r.value&&j.triggerDragEvent(t.value,b)}),{barElement:t,cursorElement:r,getCursorStyle:l,getBackgroundStyle:C,onClickSider:u}}}),mt=e=>(T("data-v-6156acb7"),e=e(),X(),e),Ct=mt(()=>c("div",{class:"vc-lightness-slider__bar-handle"},null,-1)),_t=[Ct];function kt(e,o,t,r,s,i){return A(),B("div",{class:W(["vc-lightness-slider",{"small-slider":e.size==="small"}])},[c("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:I(e.getBackgroundStyle),onClick:o[0]||(o[0]=(...n)=>e.onClickSider&&e.onClickSider(...n))},[c("div",{class:W(["vc-lightness-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:I(e.getCursorStyle)},_t,6)],4)],2)}var Re=M(At,[["render",kt],["__scopeId","data-v-6156acb7"]]);const xt=G({name:"History",props:{colors:f.arrayOf(String).def(()=>[]),round:f.bool.def(!1)},emits:["change"],setup(e,{emit:o}){return{onColorSelect:r=>{o("change",r)}}}}),wt={key:0,class:"vc-colorPicker__record"},yt={class:"color-list"},St=["onClick"];function Bt(e,o,t,r,s,i){return e.colors&&e.colors.length>0?(A(),B("div",wt,[c("div",yt,[(A(!0),B(ee,null,ae(e.colors,(n,a)=>(A(),B("div",{key:a,class:W(["color-item","transparent",{"color-item__round":e.round}]),onClick:p=>e.onColorSelect(n)},[c("div",{class:"color-item__display",style:I({backgroundColor:n})},null,4)],10,St))),128))])])):y("",!0)}var he=M(xt,[["render",Bt],["__scopeId","data-v-7e6b67ca"]]);const Pt=G({name:"Display",props:{color:f.instanceOf(S),disableAlpha:f.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:o}){var t,r,s,i;const n=D({color:e.color,previewBgColor:(t=e.color)==null?void 0:t.toRgbString(),alpha:(s=(r=e.color)==null?void 0:r.alpha)!=null?s:100,hex:(i=e.color)==null?void 0:i.hex}),a=K(()=>({background:n.previewBgColor})),p=g=>{const l=g.target,u=parseInt(l.value.replace("%",""));!isNaN(u)&&n.color&&(n.alpha=u,n.color.alpha=u)},C=g=>{const u=g.target.value.replace("#","");H(u).isValid()&&n.color&&(n.color.hex=u)};return z(()=>e.color,g=>{g&&(n.color=g)},{deep:!0}),z(()=>n.color,()=>{n.color&&(n.previewBgColor=n.color.toRgbString(),n.alpha=n.color.alpha,n.hex=n.color.hex,o("update:color",n.color),o("change",n.color))},{deep:!0}),{state:n,getBgColorStyle:a,onAlphaBlur:p,onInputChange:C}}}),Vt={class:"vc-display"},Ht={class:"vc-current-color vc-transparent"},Rt={class:"vc-color-input"},Ut=["value"],Et={key:0,class:"vc-alpha-input"},It=["value"];function Kt(e,o,t,r,s,i){return A(),B("div",Vt,[c("div",Ht,[c("div",{class:"color-cube",style:I(e.getBgColorStyle)},null,4)]),c("div",Rt,[c("input",{value:e.state.hex,onBlur:o[0]||(o[0]=(...n)=>e.onInputChange&&e.onInputChange(...n))},null,40,Ut)]),e.disableAlpha?y("",!0):(A(),B("div",Et,[c("input",{class:"vc-alpha-input__inner",value:e.state.alpha+"%",onBlur:o[1]||(o[1]=(...n)=>e.onAlphaBlur&&e.onAlphaBlur(...n))},null,40,It)]))])}var ue=M(Pt,[["render",Kt],["__scopeId","data-v-82b04486"]]);const Jt=G({name:"FkColorPicker",components:{Display:ue,Alpha:ce,Palette:He,Board:pe,Hue:ge,Lightness:Re,History:he},props:{color:f.instanceOf(S),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),disableAlpha:f.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(e,{emit:o}){const t=e.color||new S,r=D({color:t,hex:t.toHexString(),rgb:t.toRgbString()}),s=E(!1),i=K(()=>({background:r.rgb})),n=()=>{s.value=!1,o("advanceChange",!1)},a=ne(le,[],{}),p=ie(()=>{if(e.disableHistory)return;const h=r.color.toRgbString();if(a.value=a.value.filter(k=>!H.equals(k,h)),!a.value.includes(h)){for(;a.value.length>se;)a.value.pop();a.value.unshift(h)}},500),C=h=>{h==="advance"?(s.value=!0,o("advanceChange",!0)):(r.color.hex=h,o("advanceChange",!1))},g=h=>{r.color.alpha=h},l=h=>{r.color.hue=h},u=(h,k)=>{r.color.saturation=h,r.color.brightness=k},_=h=>{r.color.lightness=h},b=h=>{const m=h.target.value.replace("#","");H(m).isValid()&&(r.color.hex=m)};return z(()=>e.color,h=>{h&&(r.color=h)},{deep:!0}),z(()=>r.color,()=>{r.hex=r.color.hex,r.rgb=r.color.toRgbString(),p(),o("update:color",r.color),o("change",r.color)},{deep:!0}),{state:r,advancePanelShow:s,onBack:n,onCompactChange:C,onAlphaChange:g,onHueChange:l,onBoardChange:u,onLightChange:_,onInputChange:b,previewStyle:i,historyColors:a}}}),zt=e=>(T("data-v-592a5ec3"),e=e(),X(),e),Nt={class:"vc-fk-colorPicker"},Wt={class:"vc-fk-colorPicker__inner"},$t={class:"vc-fk-colorPicker__header"},Yt=zt(()=>c("div",{class:"back"},null,-1)),Gt=[Yt];function Mt(e,o,t,r,s,i){const n=R("Palette"),a=R("Board"),p=R("Hue"),C=R("Lightness"),g=R("Alpha"),l=R("Display"),u=R("History");return A(),B("div",Nt,[c("div",Wt,[c("div",$t,[e.advancePanelShow?(A(),B("span",{key:0,style:{cursor:"pointer"},onClick:o[0]||(o[0]=(..._)=>e.onBack&&e.onBack(..._))},Gt)):y("",!0)]),e.advancePanelShow?y("",!0):(A(),U(n,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(A(),U(a,{key:1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"])):y("",!0),e.advancePanelShow?(A(),U(p,{key:2,color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"])):y("",!0),e.advancePanelShow?y("",!0):(A(),U(C,{key:3,color:e.state.color,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?y("",!0):(A(),U(g,{key:4,color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"])),Q(l,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?y("",!0):(A(),U(u,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}var we=M(Jt,[["render",Mt],["__scopeId","data-v-592a5ec3"]]);const Dt=G({name:"ChromeColorPicker",components:{Display:ue,Alpha:ce,Board:pe,Hue:ge,History:he},props:{color:f.instanceOf(S),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),disableAlpha:f.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:o}){const t=e.color||new S,r=D({color:t,hex:t.toHexString(),rgb:t.toRgbString()}),s=K(()=>({background:r.rgb})),i=ne(le,[],{}),n=ie(()=>{if(e.disableHistory)return;const l=r.color.toRgbString();if(i.value=i.value.filter(u=>!H.equals(u,l)),!i.value.includes(l)){for(;i.value.length>se;)i.value.pop();i.value.unshift(l)}},500),a=l=>{r.color.alpha=l},p=l=>{r.color.hue=l},C=(l,u)=>{r.color.saturation=l,r.color.brightness=u},g=l=>{l!=="advance"&&(r.color.hex=l)};return z(()=>e.color,l=>{l&&(r.color=l)},{deep:!0}),z(()=>r.color,()=>{r.hex=r.color.hex,r.rgb=r.color.toRgbString(),n(),o("update:color",r.color),o("change",r.color)},{deep:!0}),{state:r,previewStyle:s,historyColors:i,onAlphaChange:a,onHueChange:p,onBoardChange:C,onCompactChange:g}}}),Zt={class:"vc-chrome-colorPicker"},Ft={class:"vc-chrome-colorPicker-body"},Ot={class:"chrome-controls"},Qt={class:"chrome-color-wrap transparent"},jt={class:"chrome-sliders"};function Tt(e,o,t,r,s,i){const n=R("Board"),a=R("Hue"),p=R("Alpha"),C=R("Display"),g=R("History");return A(),B("div",Zt,[Q(n,{round:!0,hide:!1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"]),c("div",Ft,[c("div",Ot,[c("div",Qt,[c("div",{class:"current-color",style:I(e.previewStyle)},null,4)]),c("div",jt,[Q(a,{size:"small",color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"]),e.disableAlpha?y("",!0):(A(),U(p,{key:0,size:"small",color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"]))])]),Q(C,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?y("",!0):(A(),U(g,{key:0,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}var ye=M(Dt,[["render",Tt],["__scopeId","data-v-61d7303b"]]);const be="Vue3ColorPickerProvider",Xt=G({name:"GradientColorPicker",components:{Angle:Ze,Display:ue,Alpha:ce,Palette:He,Board:pe,Hue:ge,Lightness:Re,History:he},props:{startColor:f.instanceOf(S).isRequired,endColor:f.instanceOf(S).isRequired,startColorStop:f.number.def(0),endColorStop:f.number.def(100),angle:f.number.def(0),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),disableAlpha:f.bool.def(!1)},emits:["update:startColor","update:endColor","update:angle","update:startColorStop","update:endColorStop","startColorChange","endColorChange","advanceChange","angleChange","startColorStopChange","endColorStopChange"],setup(e,{emit:o}){const t=D({startActive:!0,startColor:e.startColor,endColor:e.endColor,startColorStop:e.startColorStop,endColorStop:e.endColorStop,angle:e.angle,startColorRgba:e.startColor.toRgbString(),endColorRgba:e.endColor.toRgbString()}),r=Be(be),s=E(!1),i=E(),n=E(),a=E();te(()=>[e.startColor,e.endColor,e.angle],d=>{t.startColor=d[0],t.endColor=d[1],t.angle=d[2]});const p=K({get:()=>t.startActive?t.startColor:t.endColor,set:d=>{if(t.startActive){t.startColor=d;return}t.endColor=d}}),C=K(()=>{if(a.value&&i.value){const d=t.startColorStop/100,x=a.value.getBoundingClientRect(),w=i.value.offsetWidth;return Math.round(d*(x.width-w)+w/2)}return 0}),g=K(()=>{if(a.value&&n.value){const d=t.endColorStop/100,x=a.value.getBoundingClientRect(),w=n.value.offsetWidth;return Math.round(d*(x.width-w)+w/2)}return 0}),l=K(()=>({background:`linear-gradient(${t.angle}deg, ${t.startColorRgba} ${t.startColorStop}%, ${t.endColorRgba} ${t.endColorStop}%)`})),u=d=>{var x;if(t.startActive=!0,a.value&&i.value){const w=(x=a.value)==null?void 0:x.getBoundingClientRect();let P=d.clientX-w.left;P=Math.max(i.value.offsetWidth/2,P),P=Math.min(P,w.width-i.value.offsetWidth/2),t.startColorStop=Math.round((P-i.value.offsetWidth/2)/(w.width-i.value.offsetWidth)*100),o("update:startColorStop",t.startColorStop),o("startColorStopChange",t.startColorStop)}},_=d=>{var x;if(t.startActive=!1,a.value&&n.value){const w=(x=a.value)==null?void 0:x.getBoundingClientRect();let P=d.clientX-w.left;P=Math.max(n.value.offsetWidth/2,P),P=Math.min(P,w.width-n.value.offsetWidth/2),t.endColorStop=Math.round((P-n.value.offsetWidth/2)/(w.width-n.value.offsetWidth)*100),o("update:endColorStop",t.endColorStop),o("endColorStopChange",t.endColorStop)}},b=d=>{const x=d.target,w=parseInt(x.value.replace("\xB0",""));isNaN(w)||(t.angle=w%360),o("update:angle",t.angle),o("angleChange",t.angle)},h=d=>{t.angle=d,o("update:angle",t.angle),o("angleChange",t.angle)},k=d=>{d==="advance"?(s.value=!0,o("advanceChange",!0)):(p.value.hex=d,o("advanceChange",!1)),$()},m=d=>{p.value.alpha=d,$()},N=d=>{p.value.hue=d,$()},Z=(d,x)=>{p.value.saturation=d,p.value.brightness=x,$()},F=d=>{p.value.lightness=d,$()},$=()=>{t.startActive?(o("update:startColor",t.startColor),o("startColorChange",t.startColor)):(o("update:endColor",t.endColor),o("endColorChange",t.endColor))},O=()=>{s.value=!1,o("advanceChange",!1)},Y=ne(le,[],{}),v=ie(()=>{if(e.disableHistory)return;const d=p.value.toRgbString();if(Y.value=Y.value.filter(x=>!H.equals(x,d)),!Y.value.includes(d)){for(;Y.value.length>se;)Y.value.pop();Y.value.unshift(d)}},500);return L(()=>{n.value&&i.value&&(j.triggerDragEvent(n.value,{drag:d=>{_(d)},end:d=>{_(d)}}),j.triggerDragEvent(i.value,{drag:d=>{u(d)},end:d=>{u(d)}}))}),z(()=>t.startColor,d=>{t.startColorRgba=d.toRgbString()},{deep:!0}),z(()=>t.endColor,d=>{t.endColorRgba=d.toRgbString()},{deep:!0}),z(()=>p.value,()=>{v()},{deep:!0}),{startGradientRef:i,stopGradientRef:n,colorRangeRef:a,state:t,currentColor:p,getStartColorLeft:C,getEndColorLeft:g,gradientBg:l,advancePanelShow:s,onDegreeBlur:b,onCompactChange:k,onAlphaChange:m,onHueChange:N,onBoardChange:Z,onLightChange:F,historyColors:Y,onBack:O,onDegreeChange:h,lang:r==null?void 0:r.lang}}}),ve=e=>(T("data-v-bea3721e"),e=e(),X(),e),Lt={class:"vc-gradient-picker"},qt={class:"vc-gradient-picker__header"},eo=ve(()=>c("div",{class:"back"},null,-1)),to=[eo],oo={class:"vc-gradient-picker__body"},ro={class:"vc-color-range",ref:"colorRangeRef"},ao={class:"vc-color-range__container"},no={class:"vc-gradient__stop__container"},io=["title"],lo=ve(()=>c("span",{class:"vc-gradient__stop--inner"},null,-1)),so=[lo],co=["title"],po=ve(()=>c("span",{class:"vc-gradient__stop--inner"},null,-1)),go=[po],ho={class:"vc-picker-degree-input vc-degree-input"},uo={class:"vc-degree-input__control"},bo=["value"],vo={class:"vc-degree-input__panel"},fo={class:"vc-degree-input__disk"};function Ao(e,o,t,r,s,i){const n=R("Angle"),a=R("Palette"),p=R("Board"),C=R("Hue"),g=R("Lightness"),l=R("Alpha"),u=R("Display"),_=R("History");return A(),B("div",Lt,[Pe(c("div",qt,[c("span",{style:{cursor:"pointer"},onClick:o[0]||(o[0]=(...b)=>e.onBack&&e.onBack(...b))},to)],512),[[Ve,e.advancePanelShow]]),c("div",oo,[c("div",ro,[c("div",ao,[c("div",{class:"vc-background",style:I(e.gradientBg)},null,4),c("div",no,[c("div",{class:W(["vc-gradient__stop",{"vc-gradient__stop--current":e.state.startActive}]),ref:"startGradientRef",title:e.lang==="ZH-cn"?"\u5F00\u59CB":"Start",style:I({left:e.getStartColorLeft+"px"})},so,14,io),c("div",{class:W(["vc-gradient__stop",{"vc-gradient__stop--current":!e.state.startActive}]),ref:"stopGradientRef",title:e.lang==="ZH-cn"?"\u7ED3\u675F":"End",style:I({left:e.getEndColorLeft+"px"})},go,14,co)])])],512),c("div",ho,[c("div",uo,[c("input",{value:e.state.angle,onBlur:o[1]||(o[1]=(...b)=>e.onDegreeBlur&&e.onDegreeBlur(...b))},null,40,bo)]),c("div",vo,[c("div",fo,[Q(n,{angle:e.state.angle,"onUpdate:angle":o[2]||(o[2]=b=>e.state.angle=b),size:40,onChange:e.onDegreeChange},null,8,["angle","onChange"])])])])]),e.advancePanelShow?y("",!0):(A(),U(a,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(A(),U(p,{key:1,color:e.currentColor,onChange:e.onBoardChange},null,8,["color","onChange"])):y("",!0),e.advancePanelShow?(A(),U(C,{key:2,color:e.currentColor,onChange:e.onHueChange},null,8,["color","onChange"])):y("",!0),e.advancePanelShow?y("",!0):(A(),U(g,{key:3,color:e.currentColor,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?y("",!0):(A(),U(l,{key:4,color:e.currentColor,onChange:e.onAlphaChange},null,8,["color","onChange"])),Q(u,{color:e.currentColor,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?y("",!0):(A(),U(_,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])}var Se=M(Xt,[["render",Ao],["__scopeId","data-v-bea3721e"]]);const mo=G({name:"WrapContainer",props:{showTab:f.bool.def(!1),activeKey:f.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(e,{emit:o}){const t=D({activeKey:e.activeKey}),r=Be(be),s=i=>{t.activeKey=i,o("update:activeKey",i),o("change",i)};return z(()=>e.activeKey,i=>{t.activeKey=i}),{state:t,onActiveKeyChange:s,lang:r==null?void 0:r.lang}}}),Co={class:"vc-colorpicker"},_o={class:"vc-colorpicker--container"},ko={key:0,class:"vc-colorpicker--tabs"},xo={class:"vc-colorpicker--tabs__inner"},wo={class:"vc-btn__content"},yo={class:"vc-btn__content"};function So(e,o,t,r,s,i){return A(),B("div",Co,[c("div",_o,[e.showTab?(A(),B("div",ko,[c("div",xo,[c("div",{class:W(["vc-colorpicker--tabs__btn",{"vc-btn-active":e.state.activeKey==="pure"}]),onClick:o[0]||(o[0]=n=>e.onActiveKeyChange("pure"))},[c("button",null,[c("div",wo,me(e.lang==="ZH-cn"?"\u7EAF\u8272":"Pure"),1)])],2),c("div",{class:W(["vc-colorpicker--tabs__btn",{"vc-btn-active":e.state.activeKey==="gradient"}]),onClick:o[1]||(o[1]=n=>e.onActiveKeyChange("gradient"))},[c("button",null,[c("div",yo,me(e.lang==="ZH-cn"?"\u6E10\u53D8\u8272":"Gradient"),1)])],2),c("div",{class:"vc-colorpicker--tabs__bg",style:I({width:"50%",left:`calc(${e.state.activeKey==="gradient"?50:0}%)`})},null,4)])])):y("",!0),Ge(e.$slots,"default",{},void 0,!0)])])}var Bo=M(mo,[["render",So],["__scopeId","data-v-4afdf3bb"]]);const Po={isWidget:f.bool.def(!1),pickerType:f.oneOf(["fk","chrome"]).def("fk"),shape:f.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:f.string.def("linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)"),format:{type:String,default:"rgb"},disableAlpha:f.bool.def(!1),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),useType:f.oneOf(["pure","gradient","both"]).def("pure"),activeKey:f.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:f.number.def(9999)},Vo=G({name:"ColorPicker",components:{FkColorPicker:we,ChromeColorPicker:ye,GradientColorPicker:Se,WrapContainer:Bo},inheritAttrs:!1,props:Po,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange"],setup(e,{emit:o}){const t=D({pureColor:e.pureColor||"",activeKey:e.useType==="gradient"?"gradient":e.activeKey,isAdvanceMode:!1});Ye(be,{lang:K(()=>e.lang||"ZH-cn")});const r=new S(t.pureColor),s=E(r),i=new S("#000"),n=new S("#000"),a=D({startColor:i,endColor:n,startColorStop:0,endColorStop:100,angle:0,gradientColor:e.gradientColor}),p=E(!1),C=E(null),g=E(null),l=K(()=>({background:t.activeKey!=="gradient"?H(t.pureColor).toRgbString():a.gradientColor})),u=K(()=>t.activeKey==="gradient"?Se.name:e.pickerType==="fk"?we.name:ye.name),_=K(()=>t.activeKey==="gradient"?{startColor:a.startColor,endColor:a.endColor,onStartColorChange:v=>{a.startColor=v,N()},onEndColorChange:v=>{a.endColor=v,N()},angle:a.angle,startColorStop:a.startColorStop,endColorStop:a.endColorStop,onStartColorStopChange:v=>{a.startColorStop=v,N()},onEndColorStopChange:v=>{a.endColorStop=v,N()},onAngleChange:v=>{a.angle=v,N()},onAdvanceChange:v=>{t.isAdvanceMode=v}}:{disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,color:s.value,onChange:$,onAdvanceChange:b}),b=v=>{t.isAdvanceMode=v},h=()=>{p.value=!0},k=()=>{p.value=!1},m=()=>{var v,d,x,w;try{const[P]=Oe(a.gradientColor);if(P&&P.type==="linear-gradient"&&((v=P.orientation)==null?void 0:v.type)==="angular"&&P.colorStops.length>=2){const fe=P.colorStops[0],Ae=P.colorStops[1];a.startColorStop=Number((d=fe.length)==null?void 0:d.value)||0,a.endColorStop=Number((x=Ae.length)==null?void 0:x.value)||0,a.angle=Number((w=P.orientation)==null?void 0:w.value)||0;const[Ue,Ee,Ie,Ke]=fe.value,[Je,ze,Ne,We]=Ae.value;a.startColor=new S({r:Number(Ue),g:Number(Ee),b:Number(Ie),a:Number(Ke)}),a.endColor=new S({r:Number(Je),g:Number(ze),b:Number(Ne),a:Number(We)})}}catch(P){console.log(`[Parse Color]: ${P}`)}},N=()=>{const v=Z();try{a.gradientColor=Fe(v),o("update:gradientColor",a.gradientColor),o("gradientColorChange",a.gradientColor)}catch(d){console.log(d)}},Z=()=>{const v=[],d=a.startColor.RGB.map(w=>w.toString()),x=a.endColor.RGB.map(w=>w.toString());return v.push({type:"linear-gradient",orientation:{type:"angular",value:a.angle+""},colorStops:[{type:"rgba",value:[d[0],d[1],d[2],d[3]],length:{value:a.startColorStop+"",type:"%"}},{type:"rgba",value:[x[0],x[1],x[2],x[3]],length:{value:a.endColorStop+"",type:"%"}}]}),v},F=()=>{C.value&&g.value&&Qe(C.value,g.value,{placement:"auto",modifiers:[{name:"flip",options:{fallbackPlacements:["top","left"]}}]})},$=v=>{s.value=v,t.pureColor=v.toString(e.format),O()},O=()=>{o("update:pureColor",t.pureColor),o("pureColorChange",t.pureColor)};De(g,()=>{k()});const Y=v=>{t.activeKey=v,o("update:activeKey",v),o("activeKeyChange",v)};return L(()=>{F()}),z(()=>e.gradientColor,v=>{v!=a.gradientColor&&(a.gradientColor=v)}),z(()=>a.gradientColor,()=>{m()}),z(()=>e.activeKey,v=>{t.activeKey=v}),z(()=>e.useType,v=>{t.activeKey!=="gradient"&&v==="gradient"?t.activeKey="gradient":t.activeKey="pure"}),z(()=>e.pureColor,v=>{H.equals(v,t.pureColor)||(t.pureColor=v,s.value=new S(v),O())},{deep:!0}),{colorCubeRef:C,pickerRef:g,showPicker:p,colorInstance:s,getBgColorStyle:l,onColorChange:$,onShowPicker:h,onActiveKeyChange:Y,getComponentName:u,getBindArgs:_,state:t}}});function Ho(e,o,t,r,s,i){const n=R("WrapContainer");return A(),B(ee,null,[e.isWidget?y("",!0):(A(),B("div",{key:0,class:W(["vc-color-wrap transparent",{round:e.shape==="circle"}]),ref:"colorCubeRef"},[c("div",{class:"current-color",style:I(e.getBgColorStyle),onClick:o[0]||(o[0]=(...a)=>e.onShowPicker&&e.onShowPicker(...a))},null,4)],2)),e.isWidget?(A(),U(n,{key:1,"active-key":e.state.activeKey,"onUpdate:active-key":o[1]||(o[1]=a=>e.state.activeKey=a),"show-tab":e.useType==="both",onChange:e.onActiveKeyChange,style:I({zIndex:e.zIndex})},{default:Ce(()=>[(A(),U(_e(e.getComponentName),ke({key:e.getComponentName},e.getBindArgs),null,16))]),_:1},8,["active-key","show-tab","onChange","style"])):y("",!0),e.isWidget?y("",!0):(A(),U(Me,{key:2,to:"body"},[Pe(c("div",{ref:"pickerRef",style:I({zIndex:e.zIndex})},[e.showPicker?(A(),U(n,{key:0,"show-tab":e.useType==="both"&&!e.state.isAdvanceMode,"active-key":e.state.activeKey,"onUpdate:active-key":o[2]||(o[2]=a=>e.state.activeKey=a),onChange:e.onActiveKeyChange},{default:Ce(()=>[(A(),U(_e(e.getComponentName),ke({key:e.getComponentName},e.getBindArgs),null,16))]),_:1},8,["show-tab","active-key","onChange"])):y("",!0)],4),[[Ve,e.showPicker]])]))],64)}var q=M(Vo,[["render",Ho],["__scopeId","data-v-11bd4fe5"]]);const $o={install:e=>{e.component(q.name,q),e.component("Vue3"+q.name,q)}};export{$o as V};
