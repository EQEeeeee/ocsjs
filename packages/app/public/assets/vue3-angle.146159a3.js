import{e as m,r as d,w as v,c as h,o as b,v as g}from"./@vue.673b5b32.js";const M=(a,e)=>{const r=a.getBoundingClientRect(),t=r.left+r.width/2,n=r.top+r.height/2,o=Math.abs(t-e.clientX),c=Math.abs(n-e.clientY),l=Math.sqrt(Math.pow(o,2)+Math.pow(c,2)),s=c/l,f=Math.acos(s);let u=Math.floor(180/(Math.PI/f));return e.clientX>t&&e.clientY>n&&(u=180-u),e.clientX==t&&e.clientY>n&&(u=180),e.clientX>t&&e.clientY==n&&(u=90),e.clientX<t&&e.clientY>n&&(u=180+u),e.clientX<t&&e.clientY==n&&(u=270),e.clientX<t&&e.clientY<n&&(u=360-u),u};let i=!1;const y=(a,e)=>{const r=function(n){var o;(o=e.drag)==null||o.call(e,n)},t=function(n){var o;document.removeEventListener("mousemove",r,!1),document.removeEventListener("mouseup",t,!1),document.onselectstart=null,document.ondragstart=null,i=!1,(o=e.end)==null||o.call(e,n)};a&&a.addEventListener("mousedown",n=>{var o;i||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r,!1),document.addEventListener("mouseup",t,!1),i=!0,(o=e.start)==null||o.call(e,n))})},X={angle:{type:Number,default:0},size:{type:Number,default:16,validator:a=>a>=16},borderWidth:{type:Number,default:1,validator:a=>a>=1},borderColor:{type:String,default:"#666"}};var p=m({name:"Angle",props:X,emits:["update:angle","change"],setup(a,{emit:e}){const r=d(null),t=d(a.angle);v(()=>a.angle,l=>{t.value=l});const n=()=>{let l=Number(t.value);isNaN(l)||(l=l>360||l<0?a.angle:l,t.value=l===360?0:l,e("update:angle",t.value),e("change",t.value))},o=h(()=>({width:a.size+"px",height:a.size+"px",borderWidth:a.borderWidth+"px",borderColor:a.borderColor,transform:`rotate(${t.value}deg)`})),c=l=>{r.value&&(t.value=M(r.value,l)%360,n())};return b(()=>{const l={drag:s=>{c(s)},end:s=>{c(s)}};r.value&&y(r.value,l)}),()=>g("div",{class:"bee-angle"},[g("div",{class:"bee-angle__round",ref:r,style:o.value},null)])}});export{p as A};
