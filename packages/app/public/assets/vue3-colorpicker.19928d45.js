import{e as G,r as I,a as F,w as te,c as L,g as Oe,i as Be,B as ze,k as b,p as B,n as c,u as D,q as E,F as ee,Q as ae,s as w,l as K,v as j,M as Ae,N as Re,z as _e,x as Ge,m as ye,O as me,E as Se,L as Te,j as V,a3 as Q,a4 as Y}from"./@vue.673b5b32.js";import{C as f}from"./vue-types.b3d8d5bc.js";import{t as P}from"./tinycolor2.bbf7e834.js";import{t as J,w as M,u as re,o as Fe,a as se}from"./@vueuse.e34a2acb.js";import{V as U}from"./@aesoper.438b8cd9.js";import{A as qe}from"./vue3-angle.146159a3.js";import{s as Xe,p as Ze}from"./gradient-parser.91181912.js";import{m as oe}from"./lodash-es.089f0d41.js";import{c as je}from"./@popperjs.2eb658a9.js";var Ue=Object.defineProperty,Qe=(e,o,t)=>o in e?Ue(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,W=(e,o,t)=>(Qe(e,typeof o!="symbol"?o+"":o,t),t);const R=e=>Math.round(e*100)/100;class H{constructor(o){W(this,"instance"),W(this,"alphaValue",0),W(this,"redValue",0),W(this,"greenValue",0),W(this,"blueValue",0),W(this,"hueValue",0),W(this,"saturationValue",0),W(this,"brightnessValue",0),W(this,"hslSaturationValue",0),W(this,"lightnessValue",0),W(this,"initAlpha",()=>{const t=this.instance.getAlpha();this.alphaValue=Math.min(1,t)*100}),W(this,"initLightness",()=>{const{s:t,l:n}=this.instance.toHsl();this.hslSaturationValue=R(t),this.lightnessValue=R(n)}),W(this,"initRgb",()=>{const{r:t,g:n,b:i}=this.instance.toRgb();this.redValue=R(t),this.greenValue=R(n),this.blueValue=R(i)}),W(this,"initHsb",()=>{const{h:t,s:n,v:i}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil(t)),this.saturationValue=R(n),this.brightnessValue=R(i)}),W(this,"toHexString",()=>this.instance.toHexString()),W(this,"toRgbString",()=>this.instance.toRgbString()),this.instance=P(o),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(o){return this.instance.toString(o)}get hex(){return this.instance.toHex()}set hex(o){this.instance=P(o),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(o){this.saturation===0&&this.brightness===0&&(this.saturationValue=1,this.brightnessValue=1),this.instance=P({h:R(o),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=R(o)}get hue(){return this.hueValue}set saturation(o){this.instance=P({h:this.hue,s:R(o),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=R(o)}get saturation(){return this.saturationValue}set brightness(o){this.instance=P({h:this.hue,s:this.saturation,v:R(o),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=R(o)}get brightness(){return this.brightnessValue}set lightness(o){this.instance=P({h:this.hue,s:this.hslSaturationValue,l:R(o),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=R(o)}get lightness(){return this.lightnessValue}set red(o){const t=this.instance.toRgb();this.instance=P({...t,r:R(o),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.redValue=R(o)}get red(){return this.redValue}set green(o){const t=this.instance.toRgb();this.instance=P({...t,g:R(o),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.greenValue=R(o)}get green(){return this.greenValue}set blue(o){const t=this.instance.toRgb();this.instance=P({...t,b:R(o),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.blueValue=R(o)}get blue(){return this.blueValue}set alpha(o){this.instance.setAlpha(o/100),this.alphaValue=o}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,this.alpha/100]}get HSB(){return[this.hue,this.saturation,this.brightness,this.alpha/100]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,this.alpha/100]}}function $e(e,o,t,n){return`rgba(${[e,o,t,n/100].join(",")})`}const ne=(e,o,t)=>o<t?e<o?o:e>t?t:e:e<t?t:e>o?o:e,le="color-history",ie=8;var T=(e,o)=>{const t=e.__vccOpts||e;for(const[n,i]of o)t[n]=i;return t};const Ye=G({name:"Alpha",props:{color:f.instanceOf(H),size:f.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:o}){const t=I(null),n=I(null);let i=e.color||new H;const s=F({red:i.red,green:i.green,blue:i.blue,alpha:i.alpha});te(()=>e.color,l=>{l&&(i=l,oe(s,{red:l.red,green:l.green,blue:l.blue,alpha:l.alpha}))},{deep:!0});const r=L(()=>{const l=$e(s.red,s.green,s.blue,0),p=$e(s.red,s.green,s.blue,100);return{background:`linear-gradient(to right, ${l} , ${p})`}}),a=()=>{if(t.value&&n.value){const l=s.alpha/100,p=t.value.getBoundingClientRect(),m=n.value.offsetWidth;return Math.round(l*(p.width-m)+m/2)}return 0},d=L(()=>({left:a()+"px",top:0})),y=l=>{l.target!==t.value&&h(l)},h=l=>{if(l.stopPropagation(),t.value&&n.value){const p=t.value.getBoundingClientRect(),m=n.value.offsetWidth;let v=l.clientX-p.left;v=Math.max(m/2,v),v=Math.min(v,p.width-m/2);const g=Math.round((v-m/2)/(p.width-m)*100);i.alpha=g,s.alpha=g,o("change",g)}};return J(()=>{const l={drag:p=>{h(p)},end:p=>{h(p)}};t.value&&n.value&&U.triggerDragEvent(t.value,l)}),{barElement:t,cursorElement:n,getCursorStyle:d,getBackgroundStyle:r,onClickSider:y}}}),Je=e=>(Q("data-v-18925ba6"),e=e(),Y(),e),xe=Je(()=>c("div",{class:"vc-alpha-slider__bar-handle"},null,-1)),et=[xe];function tt(e,o,t,n,i,s){return b(),B("div",{class:D(["vc-alpha-slider","transparent",{"small-slider":e.size==="small"}])},[c("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:E(e.getBackgroundStyle),onClick:o[0]||(o[0]=(...r)=>e.onClickSider&&e.onClickSider(...r))},[c("div",{class:D(["vc-alpha-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:E(e.getCursorStyle)},et,6)],4)],2)}var ce=T(Ye,[["render",tt],["__scopeId","data-v-18925ba6"]]);const ot=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],nt=G({name:"Palette",emits:["change"],setup(e,{emit:o}){return{palettes:ot,computedBgStyle:i=>i==="transparent"?i:i==="advance"?{}:{background:P(i).toRgbString()},onColorChange:i=>{o("change",i)}}}}),at={class:"vc-compact"},rt=["onClick"];function st(e,o,t,n,i,s){return b(),B("div",at,[(b(!0),B(ee,null,ae(e.palettes,(r,a)=>(b(),B("div",{key:a,class:"vc-compact__row"},[(b(!0),B(ee,null,ae(r,(d,y)=>(b(),B("div",{key:y,class:"vc-compact__color-cube--wrap",onClick:h=>e.onColorChange(d)},[c("div",{class:D(["vc-compact__color_cube",{advance:d==="advance",transparent:d==="transparent"}]),style:E(e.computedBgStyle(d))},null,6)],8,rt))),128))]))),128))])}var Pe=T(nt,[["render",st],["__scopeId","data-v-b969fd48"]]);const lt=G({name:"Board",props:{color:f.instanceOf(H),round:f.bool.def(!1),hide:f.bool.def(!0)},emits:["change"],setup(e,{emit:o}){var t,n,i;const s=Oe(),r={h:((t=e.color)==null?void 0:t.hue)||0,s:1,v:1},a=new H(r).toHexString(),d=F({hueColor:a,saturation:((n=e.color)==null?void 0:n.saturation)||0,brightness:((i=e.color)==null?void 0:i.brightness)||0}),y=I(0),h=I(0),l=I(),p=I(),m=L(()=>({top:y.value+"px",left:h.value+"px"})),v=()=>{if(s){const _=s.vnode.el;h.value=d.saturation*(_==null?void 0:_.clientWidth),y.value=(1-d.brightness)*(_==null?void 0:_.clientHeight)}},g=_=>{_.target!==p.value&&S(_)},S=_=>{if(s){const N=s.vnode.el,q=N==null?void 0:N.getBoundingClientRect();let X=_.clientX-q.left,O=_.clientY-q.top;X=ne(X,0,q.width),O=ne(O,0,q.height);const Z=X/q.width,z=ne(-(O/q.height)+1,0,1);h.value=X,y.value=O,d.saturation=Z,d.brightness=z,o("change",Z,z)}};return J(()=>{s&&s.vnode.el&&l.value&&(U.triggerDragEvent(l.value,{drag:_=>{S(_)},end:_=>{S(_)}}),v())}),M(()=>e.color,_=>{oe(d,{hueColor:new H({h:_.hue,s:1,v:1}).toHexString(),saturation:_.saturation,brightness:_.brightness}),v()},{deep:!0}),{state:d,cursorElement:l,getCursorStyle:m,onClickBoard:g}}}),ue=e=>(Q("data-v-63803390"),e=e(),Y(),e),it=ue(()=>c("div",{class:"vc-saturation__white"},null,-1)),ct=ue(()=>c("div",{class:"vc-saturation__black"},null,-1)),ut=ue(()=>c("div",null,null,-1)),dt=[ut];function ht(e,o,t,n,i,s){return b(),B("div",{ref:"boardElement",class:D(["vc-saturation",{"vc-saturation__chrome":e.round,"vc-saturation__hidden":e.hide}]),style:E({backgroundColor:e.state.hueColor}),onClick:o[0]||(o[0]=(...r)=>e.onClickBoard&&e.onClickBoard(...r))},[it,ct,c("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:E(e.getCursorStyle)},dt,4)],6)}var de=T(lt,[["render",ht],["__scopeId","data-v-63803390"]]);const gt=G({name:"Hue",props:{color:f.instanceOf(H),size:f.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:o}){const t=I(null),n=I(null);let i=e.color||new H;const s=F({hue:i.hue||0});te(()=>e.color,h=>{h&&(i=h,oe(s,{hue:i.hue}))},{deep:!0});const r=()=>{if(t.value&&n.value){const h=t.value.getBoundingClientRect(),l=n.value.offsetWidth;return s.hue===360?h.width-l/2:s.hue%360*(h.width-l)/360+l/2}return 0},a=L(()=>({left:r()+"px",top:0})),d=h=>{h.target!==t.value&&y(h)},y=h=>{if(h.stopPropagation(),t.value&&n.value){const l=t.value.getBoundingClientRect(),p=n.value.offsetWidth;let m=h.clientX-l.left;m=Math.min(m,l.width-p/2),m=Math.max(p/2,m);const v=Math.round((m-p/2)/(l.width-p)*360);i.hue=v,s.hue=v,o("change",v)}};return J(()=>{const h={drag:l=>{y(l)},end:l=>{y(l)}};t.value&&n.value&&U.triggerDragEvent(t.value,h)}),{barElement:t,cursorElement:n,getCursorStyle:a,onClickSider:d}}}),pt=e=>(Q("data-v-5c4cae5b"),e=e(),Y(),e),vt=pt(()=>c("div",{class:"vc-hue-slider__bar-handle"},null,-1)),Ct=[vt];function ft(e,o,t,n,i,s){return b(),B("div",{class:D(["vc-hue-slider",{"small-slider":e.size==="small"}])},[c("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:o[0]||(o[0]=(...r)=>e.onClickSider&&e.onClickSider(...r))},[c("div",{class:D(["vc-hue-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:E(e.getCursorStyle)},Ct,6)],512)],2)}var he=T(gt,[["render",ft],["__scopeId","data-v-5c4cae5b"]]);const bt=G({name:"Lightness",props:{color:f.instanceOf(H),size:f.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:o}){const t=I(null),n=I(null);let i=e.color||new H;const[s,r,a]=i.HSL,d=F({hue:s,saturation:r,lightness:a});te(()=>e.color,v=>{if(v){i=v;const[g,S,_]=i.HSL;oe(d,{hue:g,saturation:S,lightness:_})}},{deep:!0});const y=L(()=>{const v=P({h:d.hue,s:d.saturation,l:.8}).toPercentageRgbString(),g=P({h:d.hue,s:d.saturation,l:.6}).toPercentageRgbString(),S=P({h:d.hue,s:d.saturation,l:.4}).toPercentageRgbString(),_=P({h:d.hue,s:d.saturation,l:.2}).toPercentageRgbString();return{background:[`-webkit-linear-gradient(left, rgb(255, 255, 255), ${v}, ${g}, ${S}, ${_}, rgb(0, 0, 0))`,`-moz-linear-gradient(left, rgb(255, 255, 255), ${v}, ${g}, ${S}, ${_}, rgb(0, 0, 0))`,`-ms-linear-gradient(left, rgb(255, 255, 255), ${v}, ${g}, ${S}, ${_}, rgb(0, 0, 0))`]}}),h=()=>{if(t.value&&n.value){const v=d.lightness,g=t.value.getBoundingClientRect(),S=n.value.offsetWidth;return(1-v)*(g.width-S)+S/2}return 0},l=L(()=>({left:h()+"px",top:0})),p=v=>{v.target!==t.value&&m(v)},m=v=>{if(v.stopPropagation(),t.value&&n.value){const g=t.value.getBoundingClientRect(),S=n.value.offsetWidth;let _=v.clientX-g.left;_=Math.max(S/2,_),_=Math.min(_,g.width-S/2);const N=1-(_-S/2)/(g.width-S);i.lightness=N,o("change",N)}};return J(()=>{const v={drag:g=>{m(g)},end:g=>{m(g)}};t.value&&n.value&&U.triggerDragEvent(t.value,v)}),{barElement:t,cursorElement:n,getCursorStyle:l,getBackgroundStyle:y,onClickSider:p}}}),_t=e=>(Q("data-v-6156acb7"),e=e(),Y(),e),yt=_t(()=>c("div",{class:"vc-lightness-slider__bar-handle"},null,-1)),mt=[yt];function St(e,o,t,n,i,s){return b(),B("div",{class:D(["vc-lightness-slider",{"small-slider":e.size==="small"}])},[c("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:E(e.getBackgroundStyle),onClick:o[0]||(o[0]=(...r)=>e.onClickSider&&e.onClickSider(...r))},[c("div",{class:D(["vc-lightness-slider__bar-pointer",{"small-bar":e.size==="small"}]),ref:"cursorElement",style:E(e.getCursorStyle)},mt,6)],4)],2)}var Ve=T(bt,[["render",St],["__scopeId","data-v-6156acb7"]]);const $t=G({name:"History",props:{colors:f.arrayOf(String).def(()=>[]),round:f.bool.def(!1)},emits:["change"],setup(e,{emit:o}){return{onColorSelect:n=>{o("change",n)}}}}),kt={key:0,class:"vc-colorPicker__record"},wt={class:"color-list"},Ht=["onClick"];function Bt(e,o,t,n,i,s){return e.colors&&e.colors.length>0?(b(),B("div",kt,[c("div",wt,[(b(!0),B(ee,null,ae(e.colors,(r,a)=>(b(),B("div",{key:a,class:D(["color-item","transparent",{"color-item__round":e.round}]),onClick:d=>e.onColorSelect(r)},[c("div",{class:"color-item__display",style:E({backgroundColor:r})},null,4)],10,Ht))),128))])])):w("",!0)}var ge=T($t,[["render",Bt],["__scopeId","data-v-7e6b67ca"]]);const At=G({name:"Display",props:{color:f.instanceOf(H),disableAlpha:f.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:o}){var t,n,i,s;const r=F({color:e.color,previewBgColor:(t=e.color)==null?void 0:t.toRgbString(),alpha:(i=(n=e.color)==null?void 0:n.alpha)!=null?i:100,hex:(s=e.color)==null?void 0:s.hex}),a=L(()=>({background:r.previewBgColor})),d=h=>{const l=h.target,p=parseInt(l.value.replace("%",""));!isNaN(p)&&r.color&&(r.alpha=p,r.color.alpha=p)},y=h=>{const p=h.target.value.replace("#","");P(p).isValid()&&r.color&&(r.color.hex=p)};return M(()=>e.color,h=>{h&&(r.color=h)},{deep:!0}),M(()=>r.color,()=>{r.color&&(r.previewBgColor=r.color.toRgbString(),r.alpha=r.color.alpha,r.hex=r.color.hex,o("update:color",r.color),o("change",r.color))},{deep:!0}),{state:r,getBgColorStyle:a,onAlphaBlur:d,onInputChange:y}}}),Rt={class:"vc-display"},Pt={class:"vc-current-color vc-transparent"},Vt={class:"vc-color-input"},Kt=["value"],It={key:0,class:"vc-alpha-input"},Et=["value"];function Lt(e,o,t,n,i,s){return b(),B("div",Rt,[c("div",Pt,[c("div",{class:"color-cube",style:E(e.getBgColorStyle)},null,4)]),c("div",Vt,[c("input",{value:e.state.hex,onBlur:o[0]||(o[0]=(...r)=>e.onInputChange&&e.onInputChange(...r))},null,40,Kt)]),e.disableAlpha?w("",!0):(b(),B("div",It,[c("input",{class:"vc-alpha-input__inner",value:e.state.alpha+"%",onBlur:o[1]||(o[1]=(...r)=>e.onAlphaBlur&&e.onAlphaBlur(...r))},null,40,Et)]))])}var pe=T(At,[["render",Lt],["__scopeId","data-v-82b04486"]]);const Wt=G({name:"FkColorPicker",components:{Display:pe,Alpha:ce,Palette:Pe,Board:de,Hue:he,Lightness:Ve,History:ge},props:{color:f.instanceOf(H),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),disableAlpha:f.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(e,{emit:o}){const t=e.color||new H,n=F({color:t,hex:t.toHexString(),rgb:t.toRgbString()}),i=I(!1),s=L(()=>({background:n.rgb})),r=()=>{i.value=!1,o("advanceChange",!1)},a=re(le,[],{}),d=se(()=>{if(e.disableHistory)return;const g=n.color.toRgbString();if(a.value=a.value.filter(S=>!P.equals(S,g)),!a.value.includes(g)){for(;a.value.length>ie;)a.value.pop();a.value.unshift(g)}},500),y=g=>{g==="advance"?(i.value=!0,o("advanceChange",!0)):(n.color.hex=g,o("advanceChange",!1))},h=g=>{n.color.alpha=g},l=g=>{n.color.hue=g},p=(g,S)=>{n.color.saturation=g,n.color.brightness=S},m=g=>{n.color.lightness=g},v=g=>{const _=g.target.value.replace("#","");P(_).isValid()&&(n.color.hex=_)};return M(()=>e.color,g=>{g&&(n.color=g)},{deep:!0}),M(()=>n.color,()=>{n.hex=n.color.hex,n.rgb=n.color.toRgbString(),d(),o("update:color",n.color),o("change",n.color)},{deep:!0}),{state:n,advancePanelShow:i,onBack:r,onCompactChange:y,onAlphaChange:h,onHueChange:l,onBoardChange:p,onLightChange:m,onInputChange:v,previewStyle:s,historyColors:a}}}),Mt=e=>(Q("data-v-592a5ec3"),e=e(),Y(),e),Nt={class:"vc-fk-colorPicker"},Dt={class:"vc-fk-colorPicker__inner"},Ot={class:"vc-fk-colorPicker__header"},zt=Mt(()=>c("div",{class:"back"},null,-1)),Gt=[zt];function Tt(e,o,t,n,i,s){const r=V("Palette"),a=V("Board"),d=V("Hue"),y=V("Lightness"),h=V("Alpha"),l=V("Display"),p=V("History");return b(),B("div",Nt,[c("div",Dt,[c("div",Ot,[e.advancePanelShow?(b(),B("span",{key:0,style:{cursor:"pointer"},onClick:o[0]||(o[0]=(...m)=>e.onBack&&e.onBack(...m))},Gt)):w("",!0)]),e.advancePanelShow?w("",!0):(b(),K(r,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(b(),K(a,{key:1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"])):w("",!0),e.advancePanelShow?(b(),K(d,{key:2,color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"])):w("",!0),e.advancePanelShow?w("",!0):(b(),K(y,{key:3,color:e.state.color,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?w("",!0):(b(),K(h,{key:4,color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"])),j(l,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?w("",!0):(b(),K(p,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}var ke=T(Wt,[["render",Tt],["__scopeId","data-v-592a5ec3"]]);const Ft=G({name:"ChromeColorPicker",components:{Display:pe,Alpha:ce,Board:de,Hue:he,History:ge},props:{color:f.instanceOf(H),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),disableAlpha:f.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:o}){const t=e.color||new H,n=F({color:t,hex:t.toHexString(),rgb:t.toRgbString()}),i=L(()=>({background:n.rgb})),s=re(le,[],{}),r=se(()=>{if(e.disableHistory)return;const l=n.color.toRgbString();if(s.value=s.value.filter(p=>!P.equals(p,l)),!s.value.includes(l)){for(;s.value.length>ie;)s.value.pop();s.value.unshift(l)}},500),a=l=>{n.color.alpha=l},d=l=>{n.color.hue=l},y=(l,p)=>{n.color.saturation=l,n.color.brightness=p},h=l=>{l!=="advance"&&(n.color.hex=l)};return M(()=>e.color,l=>{l&&(n.color=l)},{deep:!0}),M(()=>n.color,()=>{n.hex=n.color.hex,n.rgb=n.color.toRgbString(),r(),o("update:color",n.color),o("change",n.color)},{deep:!0}),{state:n,previewStyle:i,historyColors:s,onAlphaChange:a,onHueChange:d,onBoardChange:y,onCompactChange:h}}}),qt={class:"vc-chrome-colorPicker"},Xt={class:"vc-chrome-colorPicker-body"},Zt={class:"chrome-controls"},jt={class:"chrome-color-wrap transparent"},Ut={class:"chrome-sliders"};function Qt(e,o,t,n,i,s){const r=V("Board"),a=V("Hue"),d=V("Alpha"),y=V("Display"),h=V("History");return b(),B("div",qt,[j(r,{round:!0,hide:!1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"]),c("div",Xt,[c("div",Zt,[c("div",jt,[c("div",{class:"current-color",style:E(e.previewStyle)},null,4)]),c("div",Ut,[j(a,{size:"small",color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"]),e.disableAlpha?w("",!0):(b(),K(d,{key:0,size:"small",color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"]))])]),j(y,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?w("",!0):(b(),K(h,{key:0,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}var we=T(Ft,[["render",Qt],["__scopeId","data-v-61d7303b"]]);const ve="Vue3ColorPickerProvider",Yt=G({name:"GradientColorPicker",components:{Angle:qe,Display:pe,Alpha:ce,Palette:Pe,Board:de,Hue:he,Lightness:Ve,History:ge},props:{startColor:f.instanceOf(H).isRequired,endColor:f.instanceOf(H).isRequired,startColorStop:f.number.def(0),endColorStop:f.number.def(100),angle:f.number.def(0),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),disableAlpha:f.bool.def(!1)},emits:["update:startColor","update:endColor","update:angle","update:startColorStop","update:endColorStop","startColorChange","endColorChange","advanceChange","angleChange","startColorStopChange","endColorStopChange"],setup(e,{emit:o}){const t=F({startActive:!0,startColor:e.startColor,endColor:e.endColor,startColorStop:e.startColorStop,endColorStop:e.endColorStop,angle:e.angle,startColorRgba:e.startColor.toRgbString(),endColorRgba:e.endColor.toRgbString()}),n=Be(ve),i=I(!1),s=I(),r=I(),a=I();te(()=>[e.startColor,e.endColor,e.angle],u=>{t.startColor=u[0],t.endColor=u[1],t.angle=u[2]});const d=L({get:()=>t.startActive?t.startColor:t.endColor,set:u=>{if(t.startActive){t.startColor=u;return}t.endColor=u}}),y=L(()=>{if(a.value&&s.value){const u=t.startColorStop/100,$=a.value.getBoundingClientRect(),k=s.value.offsetWidth;return Math.round(u*($.width-k)+k/2)}return 0}),h=L(()=>{if(a.value&&r.value){const u=t.endColorStop/100,$=a.value.getBoundingClientRect(),k=r.value.offsetWidth;return Math.round(u*($.width-k)+k/2)}return 0}),l=L(()=>({background:`linear-gradient(${t.angle}deg, ${t.startColorRgba} ${t.startColorStop}%, ${t.endColorRgba} ${t.endColorStop}%)`})),p=u=>{var $;if(t.startActive=!0,a.value&&s.value){const k=($=a.value)==null?void 0:$.getBoundingClientRect();let A=u.clientX-k.left;A=Math.max(s.value.offsetWidth/2,A),A=Math.min(A,k.width-s.value.offsetWidth/2),t.startColorStop=Math.round((A-s.value.offsetWidth/2)/(k.width-s.value.offsetWidth)*100),o("update:startColorStop",t.startColorStop),o("startColorStopChange",t.startColorStop)}},m=u=>{var $;if(t.startActive=!1,a.value&&r.value){const k=($=a.value)==null?void 0:$.getBoundingClientRect();let A=u.clientX-k.left;A=Math.max(r.value.offsetWidth/2,A),A=Math.min(A,k.width-r.value.offsetWidth/2),t.endColorStop=Math.round((A-r.value.offsetWidth/2)/(k.width-r.value.offsetWidth)*100),o("update:endColorStop",t.endColorStop),o("endColorStopChange",t.endColorStop)}},v=u=>{const $=u.target,k=parseInt($.value.replace("\xB0",""));isNaN(k)||(t.angle=k%360),o("update:angle",t.angle),o("angleChange",t.angle)},g=u=>{t.angle=u,o("update:angle",t.angle),o("angleChange",t.angle)},S=u=>{u==="advance"?(i.value=!0,o("advanceChange",!0)):(d.value.hex=u,o("advanceChange",!1)),O()},_=u=>{d.value.alpha=u,O()},N=u=>{d.value.hue=u,O()},q=(u,$)=>{d.value.saturation=u,d.value.brightness=$,O()},X=u=>{d.value.lightness=u,O()},O=()=>{t.startActive?(o("update:startColor",t.startColor),o("startColorChange",t.startColor)):(o("update:endColor",t.endColor),o("endColorChange",t.endColor))},Z=()=>{i.value=!1,o("advanceChange",!1)},z=re(le,[],{}),C=se(()=>{if(e.disableHistory)return;const u=d.value.toRgbString();if(z.value=z.value.filter($=>!P.equals($,u)),!z.value.includes(u)){for(;z.value.length>ie;)z.value.pop();z.value.unshift(u)}},500);return J(()=>{r.value&&s.value&&(U.triggerDragEvent(r.value,{drag:u=>{m(u)},end:u=>{m(u)}}),U.triggerDragEvent(s.value,{drag:u=>{p(u)},end:u=>{p(u)}}))}),M(()=>t.startColor,u=>{t.startColorRgba=u.toRgbString()},{deep:!0}),M(()=>t.endColor,u=>{t.endColorRgba=u.toRgbString()},{deep:!0}),M(()=>d.value,()=>{C()},{deep:!0}),{startGradientRef:s,stopGradientRef:r,colorRangeRef:a,state:t,currentColor:d,getStartColorLeft:y,getEndColorLeft:h,gradientBg:l,advancePanelShow:i,onDegreeBlur:v,onCompactChange:S,onAlphaChange:_,onHueChange:N,onBoardChange:q,onLightChange:X,historyColors:z,onBack:Z,onDegreeChange:g,lang:n==null?void 0:n.lang}}}),Ce=e=>(Q("data-v-bea3721e"),e=e(),Y(),e),Jt={class:"vc-gradient-picker"},xt={class:"vc-gradient-picker__header"},eo=Ce(()=>c("div",{class:"back"},null,-1)),to=[eo],oo={class:"vc-gradient-picker__body"},no={class:"vc-color-range",ref:"colorRangeRef"},ao={class:"vc-color-range__container"},ro={class:"vc-gradient__stop__container"},so=["title"],lo=Ce(()=>c("span",{class:"vc-gradient__stop--inner"},null,-1)),io=[lo],co=["title"],uo=Ce(()=>c("span",{class:"vc-gradient__stop--inner"},null,-1)),ho=[uo],go={class:"vc-picker-degree-input vc-degree-input"},po={class:"vc-degree-input__control"},vo=["value"],Co={class:"vc-degree-input__panel"},fo={class:"vc-degree-input__disk"};function bo(e,o,t,n,i,s){const r=V("Angle"),a=V("Palette"),d=V("Board"),y=V("Hue"),h=V("Lightness"),l=V("Alpha"),p=V("Display"),m=V("History");return b(),B("div",Jt,[Ae(c("div",xt,[c("span",{style:{cursor:"pointer"},onClick:o[0]||(o[0]=(...v)=>e.onBack&&e.onBack(...v))},to)],512),[[Re,e.advancePanelShow]]),c("div",oo,[c("div",no,[c("div",ao,[c("div",{class:"vc-background",style:E(e.gradientBg)},null,4),c("div",ro,[c("div",{class:D(["vc-gradient__stop",{"vc-gradient__stop--current":e.state.startActive}]),ref:"startGradientRef",title:e.lang==="ZH-cn"?"\u5F00\u59CB":"Start",style:E({left:e.getStartColorLeft+"px"})},io,14,so),c("div",{class:D(["vc-gradient__stop",{"vc-gradient__stop--current":!e.state.startActive}]),ref:"stopGradientRef",title:e.lang==="ZH-cn"?"\u7ED3\u675F":"End",style:E({left:e.getEndColorLeft+"px"})},ho,14,co)])])],512),c("div",go,[c("div",po,[c("input",{value:e.state.angle,onBlur:o[1]||(o[1]=(...v)=>e.onDegreeBlur&&e.onDegreeBlur(...v))},null,40,vo)]),c("div",Co,[c("div",fo,[j(r,{angle:e.state.angle,"onUpdate:angle":o[2]||(o[2]=v=>e.state.angle=v),size:40,onChange:e.onDegreeChange},null,8,["angle","onChange"])])])])]),e.advancePanelShow?w("",!0):(b(),K(a,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(b(),K(d,{key:1,color:e.currentColor,onChange:e.onBoardChange},null,8,["color","onChange"])):w("",!0),e.advancePanelShow?(b(),K(y,{key:2,color:e.currentColor,onChange:e.onHueChange},null,8,["color","onChange"])):w("",!0),e.advancePanelShow?w("",!0):(b(),K(h,{key:3,color:e.currentColor,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?w("",!0):(b(),K(l,{key:4,color:e.currentColor,onChange:e.onAlphaChange},null,8,["color","onChange"])),j(p,{color:e.currentColor,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?w("",!0):(b(),K(m,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])}var He=T(Yt,[["render",bo],["__scopeId","data-v-bea3721e"]]);const _o=G({name:"WrapContainer",props:{showTab:f.bool.def(!1),activeKey:f.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(e,{emit:o}){const t=F({activeKey:e.activeKey}),n=Be(ve),i=s=>{t.activeKey=s,o("update:activeKey",s),o("change",s)};return M(()=>e.activeKey,s=>{t.activeKey=s}),{state:t,onActiveKeyChange:i,lang:n==null?void 0:n.lang}}}),yo={class:"vc-colorpicker"},mo={class:"vc-colorpicker--container"},So={key:0,class:"vc-colorpicker--tabs"},$o={class:"vc-colorpicker--tabs__inner"},ko={class:"vc-btn__content"},wo={class:"vc-btn__content"};function Ho(e,o,t,n,i,s){return b(),B("div",yo,[c("div",mo,[e.showTab?(b(),B("div",So,[c("div",$o,[c("div",{class:D(["vc-colorpicker--tabs__btn",{"vc-btn-active":e.state.activeKey==="pure"}]),onClick:o[0]||(o[0]=r=>e.onActiveKeyChange("pure"))},[c("button",null,[c("div",ko,_e(e.lang==="ZH-cn"?"\u7EAF\u8272":"Pure"),1)])],2),c("div",{class:D(["vc-colorpicker--tabs__btn",{"vc-btn-active":e.state.activeKey==="gradient"}]),onClick:o[1]||(o[1]=r=>e.onActiveKeyChange("gradient"))},[c("button",null,[c("div",wo,_e(e.lang==="ZH-cn"?"\u6E10\u53D8\u8272":"Gradient"),1)])],2),c("div",{class:"vc-colorpicker--tabs__bg",style:E({width:"50%",left:`calc(${e.state.activeKey==="gradient"?50:0}%)`})},null,4)])])):w("",!0),Ge(e.$slots,"default",{},void 0,!0)])])}var Bo=T(_o,[["render",Ho],["__scopeId","data-v-4afdf3bb"]]);const Ao={isWidget:f.bool.def(!1),pickerType:f.oneOf(["fk","chrome"]).def("fk"),shape:f.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:f.string.def("linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)"),format:{type:String,default:"rgb"},disableAlpha:f.bool.def(!1),disableHistory:f.bool.def(!1),roundHistory:f.bool.def(!1),useType:f.oneOf(["pure","gradient","both"]).def("pure"),activeKey:f.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:f.number.def(9999)},Ro=G({name:"ColorPicker",components:{FkColorPicker:ke,ChromeColorPicker:we,GradientColorPicker:He,WrapContainer:Bo},inheritAttrs:!1,props:Ao,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange"],setup(e,{emit:o}){const t=F({pureColor:e.pureColor||"",activeKey:e.useType==="gradient"?"gradient":e.activeKey,isAdvanceMode:!1});ze(ve,{lang:L(()=>e.lang||"ZH-cn")});const n=new H(t.pureColor),i=I(n),s=new H("#000"),r=new H("#000"),a=F({startColor:s,endColor:r,startColorStop:0,endColorStop:100,angle:0,gradientColor:e.gradientColor}),d=I(!1),y=I(null),h=I(null),l=L(()=>({background:t.activeKey!=="gradient"?P(t.pureColor).toRgbString():a.gradientColor})),p=L(()=>t.activeKey==="gradient"?He.name:e.pickerType==="fk"?ke.name:we.name),m=L(()=>t.activeKey==="gradient"?{startColor:a.startColor,endColor:a.endColor,onStartColorChange:C=>{a.startColor=C,N()},onEndColorChange:C=>{a.endColor=C,N()},angle:a.angle,startColorStop:a.startColorStop,endColorStop:a.endColorStop,onStartColorStopChange:C=>{a.startColorStop=C,N()},onEndColorStopChange:C=>{a.endColorStop=C,N()},onAngleChange:C=>{a.angle=C,N()},onAdvanceChange:C=>{t.isAdvanceMode=C}}:{disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,color:i.value,onChange:O,onAdvanceChange:v}),v=C=>{t.isAdvanceMode=C},g=()=>{d.value=!0},S=()=>{d.value=!1},_=()=>{var C,u,$,k;try{const[A]=Ze(a.gradientColor);if(A&&A.type==="linear-gradient"&&((C=A.orientation)==null?void 0:C.type)==="angular"&&A.colorStops.length>=2){const fe=A.colorStops[0],be=A.colorStops[1];a.startColorStop=Number((u=fe.length)==null?void 0:u.value)||0,a.endColorStop=Number(($=be.length)==null?void 0:$.value)||0,a.angle=Number((k=A.orientation)==null?void 0:k.value)||0;const[Ke,Ie,Ee,Le]=fe.value,[We,Me,Ne,De]=be.value;a.startColor=new H({r:Number(Ke),g:Number(Ie),b:Number(Ee),a:Number(Le)}),a.endColor=new H({r:Number(We),g:Number(Me),b:Number(Ne),a:Number(De)})}}catch(A){console.log(`[Parse Color]: ${A}`)}},N=()=>{const C=q();try{a.gradientColor=Xe(C),o("update:gradientColor",a.gradientColor),o("gradientColorChange",a.gradientColor)}catch(u){console.log(u)}},q=()=>{const C=[],u=a.startColor.RGB.map(k=>k.toString()),$=a.endColor.RGB.map(k=>k.toString());return C.push({type:"linear-gradient",orientation:{type:"angular",value:a.angle+""},colorStops:[{type:"rgba",value:[u[0],u[1],u[2],u[3]],length:{value:a.startColorStop+"",type:"%"}},{type:"rgba",value:[$[0],$[1],$[2],$[3]],length:{value:a.endColorStop+"",type:"%"}}]}),C},X=()=>{y.value&&h.value&&je(y.value,h.value,{placement:"auto",modifiers:[{name:"flip",options:{fallbackPlacements:["top","left"]}}]})},O=C=>{i.value=C,t.pureColor=C.toString(e.format),Z()},Z=()=>{o("update:pureColor",t.pureColor),o("pureColorChange",t.pureColor)};Fe(h,()=>{S()});const z=C=>{t.activeKey=C,o("update:activeKey",C),o("activeKeyChange",C)};return J(()=>{X()}),M(()=>e.gradientColor,C=>{C!=a.gradientColor&&(a.gradientColor=C)}),M(()=>a.gradientColor,()=>{_()}),M(()=>e.activeKey,C=>{t.activeKey=C}),M(()=>e.useType,C=>{t.activeKey!=="gradient"&&C==="gradient"?t.activeKey="gradient":t.activeKey="pure"}),M(()=>e.pureColor,C=>{P.equals(C,t.pureColor)||(t.pureColor=C,i.value=new H(C),Z())},{deep:!0}),{colorCubeRef:y,pickerRef:h,showPicker:d,colorInstance:i,getBgColorStyle:l,onColorChange:O,onShowPicker:g,onActiveKeyChange:z,getComponentName:p,getBindArgs:m,state:t}}});function Po(e,o,t,n,i,s){const r=V("WrapContainer");return b(),B(ee,null,[e.isWidget?w("",!0):(b(),B("div",{key:0,class:D(["vc-color-wrap transparent",{round:e.shape==="circle"}]),ref:"colorCubeRef"},[c("div",{class:"current-color",style:E(e.getBgColorStyle),onClick:o[0]||(o[0]=(...a)=>e.onShowPicker&&e.onShowPicker(...a))},null,4)],2)),e.isWidget?(b(),K(r,{key:1,"active-key":e.state.activeKey,"onUpdate:active-key":o[1]||(o[1]=a=>e.state.activeKey=a),"show-tab":e.useType==="both",onChange:e.onActiveKeyChange,style:E({zIndex:e.zIndex})},{default:ye(()=>[(b(),K(me(e.getComponentName),Se({key:e.getComponentName},e.getBindArgs),null,16))]),_:1},8,["active-key","show-tab","onChange","style"])):w("",!0),e.isWidget?w("",!0):(b(),K(Te,{key:2,to:"body"},[Ae(c("div",{ref:"pickerRef",style:E({zIndex:e.zIndex})},[e.showPicker?(b(),K(r,{key:0,"show-tab":e.useType==="both"&&!e.state.isAdvanceMode,"active-key":e.state.activeKey,"onUpdate:active-key":o[2]||(o[2]=a=>e.state.activeKey=a),onChange:e.onActiveKeyChange},{default:ye(()=>[(b(),K(me(e.getComponentName),Se({key:e.getComponentName},e.getBindArgs),null,16))]),_:1},8,["show-tab","active-key","onChange"])):w("",!0)],4),[[Re,e.showPicker]])]))],64)}var x=T(Ro,[["render",Po],["__scopeId","data-v-11bd4fe5"]]);const Oo={install:e=>{e.component(x.name,x),e.component("Vue3"+x.name,x)}};export{Oo as V};
