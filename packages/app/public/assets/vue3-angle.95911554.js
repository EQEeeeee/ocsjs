import{d as m,r as u,w as b,l as h,o as v,c as g}from"./@vue.c35ed996.js";const p=(a,e)=>{const r=a.getBoundingClientRect(),t=r.left+r.width/2,n=r.top+r.height/2,o=Math.abs(t-e.clientX),d=Math.abs(n-e.clientY),l=Math.sqrt(Math.pow(o,2)+Math.pow(d,2)),s=d/l,f=Math.acos(s);let i=Math.floor(180/(Math.PI/f));return e.clientX>t&&e.clientY>n&&(i=180-i),e.clientX==t&&e.clientY>n&&(i=180),e.clientX>t&&e.clientY==n&&(i=90),e.clientX<t&&e.clientY>n&&(i=180+i),e.clientX<t&&e.clientY==n&&(i=270),e.clientX<t&&e.clientY<n&&(i=360-i),i};let c=!1;const x=(a,e)=>{const r=function(n){var o;(o=e.drag)==null||o.call(e,n)},t=function(n){var o;document.removeEventListener("mousemove",r,!1),document.removeEventListener("mouseup",t,!1),document.onselectstart=null,document.ondragstart=null,c=!1,(o=e.end)==null||o.call(e,n)};a&&a.addEventListener("mousedown",n=>{var o;c||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r,!1),document.addEventListener("mouseup",t,!1),c=!0,(o=e.start)==null||o.call(e,n))})},y={angle:{type:Number,default:0},size:{type:Number,default:16,validator:a=>a>=16},borderWidth:{type:Number,default:1,validator:a=>a>=1},borderColor:{type:String,default:"#666"}};var M=m({name:"Angle",props:y,emits:["update:angle","change"],setup(a,{emit:e}){const r=u(null),t=u(a.angle);b(()=>a.angle,l=>{t.value=l});const n=()=>{let l=Number(t.value);isNaN(l)||(l=l>360||l<0?a.angle:l,t.value=l===360?0:l,e("update:angle",t.value),e("change",t.value))},o=h(()=>({width:a.size+"px",height:a.size+"px",borderWidth:a.borderWidth+"px",borderColor:a.borderColor,transform:`rotate(${t.value}deg)`})),d=l=>{r.value&&(t.value=p(r.value,l)%360,n())};return v(()=>{const l={drag:s=>{d(s)},end:s=>{d(s)}};r.value&&x(r.value,l)}),()=>g("div",{class:"bee-angle"},[g("div",{class:"bee-angle__round",ref:r,style:o.value},null)])}});export{M as A};
